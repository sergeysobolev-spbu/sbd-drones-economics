# Техническое задание на разработку первого прототипа

## Сокращения


| Сокращение | Расшифровка |
|--|--|
| ПП | первый прототип |
| ИБ | информационная безопасность |
| СКИБ | система с конструктивной информационной безопасностью |

### Соглашение о наименовании требований

Для удобства использования каждому требованию назначается буквенно-циферный код, где буква(буквы) - код раздела требований, цифры - порядковый номер требования в разделе. 

Например ОВ1 - требование к окружению выполнения


## Назначение ПП

Основное назначение прототипа - использование в качестве учебного пособия для знакомства студентов с

1.  ключевыми идеями концепции, отраслевыми и техническими проблемами, а также способами их решения

2. технологиями и практиками командной разработки программного обеспечения

3. шаблонами проектирования систем с конструктивной информационной безопасностью

## Целевая аудитория 

Студенты 3-4 года обучения, преимущественно, направлений разработки, но возможно также и использование студентами других направлений (ИБ, робототехника, промышленная автоматизация) и проч.

## Свойства 

В связи с этим ПП должен обладать следующими свойствами

С1. простота развёртывания, в т.ч. в облачной инфраструктуре, низкие требования к ресурсам (не более 4 ГБ ОЗУ и 4 ядер CPU, до 1 GB хранилища для исходного кода и документации)

С2. расширяемость 

С3. открытость (возможно использования в т.ч. для курсовых и дипломных работ)

С4. простота в поддержке 

С5. низкая или нулевая стоимость владения

С6. используются востребованные на рынке разработки технологии

## Требования к окружению выполнения

ОВ1. Linux-совместимая ОС (см. С1)

ОВ2. Поддержка docker

## Требования к развёртыванию

Р1. Развёртывание с помощью Makefile, альтернативы -  shell скрипт

Р2. Должен поддерживаться запуск всех сервисов с использованием docker-compose 

Р3. Должна быть реализована возможность разработки в docker контейнере (см. также Д7)

## Требования к языку и среде разработки

ЯСР1. Основные языки разработки - Python, Go, Rust

ЯСР2. Основная среда разработки - VS Code

## Требования к размещению файлов в репозитории

РФ1. типовая структура папок в репозитории:

* docs - общая документация проекта

* <сервисN> - файлы сервиса (компонента) N

* <сервисN>/docs - документация сервиса N

* <сервисN>/src - исходный код сервиса N

* <сервисN>/resources - ресурсы сервиса N

* <сервисN>/tests - тесты сервиса N

* <сервисN>/tests/unit - юнит-тесты сервиса N

* <сервисN>/tests/module - модульные тесты сервиса N

* <сервисN>/Makefile - Makefile сервиса N

* <сервисN>/dockerfile - docker файл для сборки образа сервиса N

* demos - папка для Jupyter блокнотов, демонстрирующих работу системы

* broker - папка для брокера сообщений

* tests - папка для сквозных и интеграционных автоматизированных тестов (в сервисах это должны быть юнит и модульные тесты)

* tests/e2e - сквозные тесты

* tests/integration - интеграционные тесты

* Makefile - общий Makefile системы, должен содержать цели setup (подготовка окружения для работы с проектом), build-all (нативная сборка всех сервисов), build-docker (сборка всех docker образов), run-all (нативный запуск всех сервисов), run-all-docker (запуск всех сервисов в docker образах), tests-all (нативный запуск всех сквозных тестов), tests-all-docker (запуск всех сквозных тестов в docker образах)

* docker-compose.yaml - общий docker-compose файл для сборки образов и запуска всех сервисов

* README.md - краткое описание проекта

* .gitignore - файл для настройки неверсионируемых элементов

РФ2. В папке каждого сервиса должен быть .gitignore файл, допускается хранить только исходный код, документацию и ресурсные файлы. Запрещается выкладывать в удалённый репозиторий файлы, которые генерируются из кода

РФ3. Если для описания сервиса есть видео материалы, их следует выкладывать на платформах типа rutube с подходящим типом доступа, а в документацию вставлять ссылку на это видео

## Требования к документации

Д1. Python код должен быть оформлен в соответствии со стандартом PEP8

Д2. Перед отправкой изменений в репозиторий должны быть исправлены все замечания по оформлению, включая опечатки и орфографические ошибки

Д3. Логика взаимодействия компонентов должна описываться с помощью диаграмм последовательности, следует использовать plantuml, код диаграмм должен храниться в папке docs/diagrams (здесь и до конца раздела - папке docs соответствующего сервиса)

Д4. Прочие архитектурные диаграммы должны создаваться с помощью инструмента drawio, файлы с drawio диаграммами должны находиться в папке docs

Д5. Текстовые описания должны оформляться в markdown формате и помещаться в папке docs (за исключением README.md файла в корневой папке репозитория)

Д6. Должно быть описание процесса отладки для каждого сервиса

Д7. Должно быть описание процесса разработки сервисов в docker контейнере

## Требования к управлению версиями

УВ1. Для версионирования должен использоваться git репозиторий

УВ2. Работа над новыми функциями должна вестись в отдельных ветках, слияние с main веткой основного репозитория должно осуществляться только после создания запроса на слияние (PR) и оценки изменений авторизованными экспертами

УВ3. Допускается использовать git (под)модули (submodules), добавление подмодуля должно согласовываться с администратором репозитория

## Требования к контролю качества

КК1. Перед отправкой изменений в удалённый репозиторий должны быть выполнены все доступные тесты. Слияние изменений с неработающими тестами недопустимо

КК2. Файлы с тестами должны находиться в соответствующей папке test соответствующего сервиса (см. РФ1)

КК3. Сквозные автоматизированные тесты должны находиться в папке test/e2e в корне репозитория

КК3. Интеграционные автоматизированные тесты должны находиться в папке test/e2e в корне репозитория

КК5. Запуск всех тестов должен быть возможен выполнением одной команды make tests-all

КК6. Запуск всех тестов с применением docker образов должен быть возможен выполнением одной команды make tests-all-docker

КК7. Запуск каждого теста должен включать необходимую подготовку (setup), а после завершения - очистку (tear down). Запрещается использовать данные между отдельными тестами. Допускается однократный запуск брокера сообщений и остановка его работы после выполнения всех тестов.

## Требования к архитектуре

А1. Все архитектурные решения должны быть задокументированы (см. также Д3, Д4)

А2. В проекте следует придерживаться сервисно-ориентированного подхода, взаимодействие должно происходить через брокер сообщений

А3. Каждый сервис должен находиться в отдельной папке, также см. УВ3

## Требования с сборке проекта

СП1. Должна поддерживаться сборка всех сервисов в docker образы одной командой в корневой папке проекта make build-docker

## Требования к отладке

О1. Для каждого сервиса должна быть подготовлена и описана необходимая конфигурация (см. Д6)

О2. Должна быть возможность запуска отладки в docker образе